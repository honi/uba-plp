# Práctica 2 / Ejercicio 6

**REVISAR**

## I: Verdadero

```
Eq a ⇒ ∀xs :: [a]. ∀e :: a. ∀p :: a -> Bool. (elem e xs && p e) = elem e (filter p xs)
```

Inducción estructural sobre listas.

```
P(xs): ∀e :: a. ∀p :: a -> Bool. (elem e xs && p e) = elem e (filter p xs)
```

**Caso base**: `P([])`

Por un lado:

```
(elem e [] && p e)
= (False && p e)        {def elem}
= False                 {def &&}
```

Por otro lado:

```
elem e (filter p [])
= elem e []             {def filter}
= False                 {def elem}
```

En ambos casos llegamos al mismo valor.

**Caso inductivo**: `∀x :: a. ∀xs :: [a]. P(xs) ⇒ P(x:xs)`

```
elem e (filter p (x:xs))
= elem e (if p x then x : filter p xs else filter p xs)     {def filter}
```

Inducción sobre booleanos: `p x :: Bool`

Caso (1): `p x = False`

```
= elem e (if False then x : filter p xs else filter p xs)
= elem e (filter p xs)                                      {def if}
= elem e xs && p e                                          {HI}
```

Queremos ver que eso sea igual a:

```
elem e (x:xs) && p e
= (e == x || elem e xs) && p e
```

**QVQ**: `elem e xs && p e = (e == x || elem e xs) && p e`

Inducción sobre booleanos: `e == x :: Bool`

Caso (1.1): `e == x = False`


```
= (e == x || elem e xs) && p e
= (False || elem e xs) && p e
= elem e xs && p e
```

Caso (1.2): `e == x = True`

Falta terminar

Caso (2): `p x = True`

```
= elem e (if True then x : filter p xs else filter p xs)
= elem e (x : filter p xs)                                  {def if}
= (e == x) || elem e (filter p xs)                          {def elem}
= (e == x) || (elem e xs && p e)                            {HI}
= (e == x || elem e xs) && (e == x || p e)                  {distributiva del ||}
= elem e (x:xs) && (e == x || p e)                          {def elem}
```

Inducción sobre booleanos: `e == x :: Bool`

Caso (2.1): `e == x = False`

```
= elem e (x:xs) && (e == x || p e)
= elem e (x:xs) && (False || p e)                           {e == x = False}
= elem e (x:xs) && p e                                      {def ||}
```

Caso (2.2): `e == x = True`

```
= elem e (x:xs) && (e == x || p e)
= elem e (x:xs) && p e
```

Como valen `p x` y `e == x` por los casos que tomamos, podemos simplificar `(e == x || p e) = p e`.

## V: Falso

```
xs = [1,2,3]
ys = [1,2,3]
length (union xs ys) = 3
length xs + length ys = 6
```
